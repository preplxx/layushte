/* ===== Folder UI ===== */
.folder{
  width: min(860px, 100%);
  margin: 0 auto;
  border-radius: 30px;
  position: relative;
  transform-style: preserve-3d;
}

.folder-top{
  position: relative;
  height: 80px;
  display:flex;
  align-items:flex-end;
  justify-content:flex-start;
  padding-left: 20px;
}

.folder-tab{
  width: 170px;
  height: 46px;
  border-radius: 18px 18px 8px 8px;
  background: linear-gradient(135deg, rgba(255,47,151,.45), rgba(120,210,255,.35));
  border: 1px solid rgba(255,255,255,.55);
  box-shadow: 0 14px 30px rgba(0,0,0,.10);
  position:absolute;
  left: 22px;
  bottom: 14px;
}

.folder-label{
  position:absolute;
  left: 42px;
  bottom: 23px;
  font-weight: 800;
  font-size: 14px;
  color: rgba(35,35,35,.78);
  transform: rotate(-1.5deg);
  text-shadow: 0 8px 28px rgba(255,47,151,.18);
}

.folder-body{
  background: linear-gradient(180deg, rgba(255,255,255,.80), rgba(255,245,252,.70));
  border: 1px solid rgba(255, 208, 226, 0.80);
  border-radius: 32px;
  box-shadow: 0 28px 90px rgba(30,20,40,0.18);
  backdrop-filter: blur(14px);
  padding: 28px 22px 22px;
  overflow:hidden;

  /* CLOSED by default */
  transform-origin: top center;
  transform: translateY(-8px) rotateX(82deg) scale(.96);
  opacity: 0;
  max-height: 0;
  transition: transform .65s cubic-bezier(.2,.9,.2,1), opacity .4s ease, max-height .65s ease;
}

/* folder “flap” */
.folder::before{
  content:"";
  position:absolute;
  left:0; right:0;
  top: 70px;
  height: 80px;
  border-radius: 26px 26px 26px 26px;
  background: linear-gradient(135deg, rgba(255,47,151,.22), rgba(120,210,255,.18));
  border: 1px solid rgba(255,255,255,.35);
  box-shadow: 0 12px 26px rgba(0,0,0,.10);
  transform-origin: top center;
  transform: rotateX(0deg);
  transition: transform .65s cubic-bezier(.2,.9,.2,1);
}

/* OPEN state */
.folder.open .folder-body{
  transform: translateY(0) rotateX(0deg) scale(1);
  opacity: 1;
  max-height: 2000px;
}
.folder.open::before{
  transform: rotateX(-92deg);
}

/* tiny shake on hover */
.folder:hover .folder-label{
  animation: wiggle 0.6s ease-in-out infinite alternate;
}
@keyframes wiggle{
  from{ transform: rotate(-1.5deg) translateY(0); }
  to{ transform: rotate(1.5deg) translateY(-2px); }
}

/* on mobile reduce flap size */
@media (max-width: 520px){
  .folder-top{ height: 76px; }
  .folder-tab{ width: 150px; }
  .folder-label{ font-size: 13px; left: 36px; }
}
