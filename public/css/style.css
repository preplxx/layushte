@import url("https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800;900&display=swap");

:root{
  --bg1:#ffd3ea;
  --bg2:#eaf6ff;

  --ink:#232323;
  --muted:#6e6e6e;

  --pink:#ff2f97;
  --pink2:#ff8bd4;
  --red:#ff365a;
  --red2:#ff7a7a;

  --folderA:#ff2a6f;
  --folderB:#ff83b7;

  --glass: rgba(255,255,255,.22);
  --glass2: rgba(255,255,255,.32);

  --paperA: rgba(255,255,255,.92);
  --paperB: rgba(255,245,252,.72);

  --shadow: 0 26px 90px rgba(30,20,40,.18);
  --shadowSoft: 0 14px 30px rgba(30,20,40,.12);
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font-family:Poppins, Arial, sans-serif;
  color:var(--ink);
  overflow-x:hidden;

  display:flex;
  justify-content:center;
  align-items:center;

  padding: 22px 14px;
  background:
    radial-gradient(900px 600px at 18% 12%, rgba(255, 80, 160, 0.55) 0%, transparent 58%),
    radial-gradient(900px 600px at 82% 0%, rgba(130, 205, 255, 0.35) 0%, transparent 58%),
    linear-gradient(135deg, var(--bg1), var(--bg2));
}

@media (prefers-reduced-motion: reduce){
  *{ animation:none !important; transition:none !important; }
}

#fx{
  position:fixed;
  inset:0;
  pointer-events:none;
  overflow:hidden;
  z-index: 999;
}

.stage{
  width:min(980px, 100%);
  display:flex;
  justify-content:center;
  align-items:center;
}

/* ===== Folder frame ===== */
.folder{
  width:min(920px, 100%);
  position:relative;
  cursor:pointer;
  user-select:none;
  filter: drop-shadow(0 28px 80px rgba(30,20,40,0.18));
}

/* top bar stays visible even closed */
.folder-top{
  position:absolute;
  left: 18px;
  right: 18px;
  top: 10px;
  height: 90px;
  z-index: 5;

  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 14px;

  padding: 14px 14px;
  border-radius: 26px;
  background: rgba(255,255,255,.20);
  border: 1px solid rgba(255,255,255,.35);
  backdrop-filter: blur(10px);
}

.folder-badge{
  display:flex;
  align-items:center;
  gap: 10px;
  padding: 10px 14px;
  border-radius: 999px;
  background: rgba(255,255,255,.22);
  border: 1px solid rgba(255,255,255,.35);
}

.badge-dot{
  width: 10px;
  height: 10px;
  border-radius: 99px;
  background: linear-gradient(135deg, var(--red), var(--pink));
  box-shadow: 0 0 0 6px rgba(255,47,151,.12);
}

.badge-text{
  font-weight: 900;
  font-size: 18px;
  letter-spacing: -0.2px;
  color: rgba(20,20,20,.82);
}

.folder-stamp{
  width: 74px;
  height: 74px;
  border-radius: 22px;
  background: rgba(255,255,255,.22);
  border: 1px solid rgba(255,255,255,.35);
  display:grid;
  place-items:center;
  flex: 0 0 auto;
}

.stamp-heart{
  width: 34px;
  height: 34px;
  background: linear-gradient(135deg, var(--red), var(--pink));
  transform: rotate(45deg);
  border-radius: 10px;
  position:relative;
  box-shadow: 0 16px 30px rgba(255,47,151,.25);
}
.stamp-heart::before,
.stamp-heart::after{
  content:"";
  position:absolute;
  width: 34px;
  height: 34px;
  border-radius: 50%;
  background: inherit;
}
.stamp-heart::before{ left:-17px; top:0; }
.stamp-heart::after{ top:-17px; left:0; }

/* lid (opens) */
.folder-lid{
  position:absolute;
  left: 14px;
  right: 14px;
  top: 0;
  height: 150px;
  border-radius: 34px 34px 28px 28px;
  background: linear-gradient(135deg, #ff1e67, #ff86b7);
  border: 2px solid rgba(255,255,255,.30);
  box-shadow: 0 18px 50px rgba(0,0,0,.14);

  transform-origin: top center;
  transition: transform .75s cubic-bezier(.2,.9,.2,1);
  z-index: 2;
}

.lid-shine{
  position:absolute;
  inset:0;
  border-radius: inherit;
  background: radial-gradient(650px 220px at 22% 12%, rgba(255,255,255,.25), transparent 60%);
}

/* pocket background */
.folder-pocket{
  position:relative;
  padding: 120px 18px 18px;
  border-radius: 40px;
  background: linear-gradient(135deg, var(--folderA), var(--folderB));
  border: 2px solid rgba(255,255,255,.30);
  box-shadow: inset 0 -16px 0 rgba(0,0,0,.06), var(--shadow);
}

/* inner paper (closed state) */
.paper{
  width:min(820px, 100%);
  margin: 0 auto;
  border-radius: 36px;
  padding: 26px 20px 18px;
  background: linear-gradient(180deg, var(--paperA), var(--paperB));
  border: 1px solid rgba(255,255,255,.55);
  box-shadow: var(--shadowSoft);
  text-align:center;

  transform-origin: top center;
  transform: translateY(-16px) rotateX(70deg) scale(.97);
  opacity: 0;
  max-height: 0;
  overflow:hidden;

  transition:
    transform .75s cubic-bezier(.2,.9,.2,1),
    opacity .35s ease,
    max-height .75s ease;
}

/* open state */
.folder.open .folder-lid{ transform: rotateX(-105deg); }
.folder.open .paper{
  transform: translateY(0) rotateX(0deg) scale(1);
  opacity: 1;
  max-height: 2200px;
}

/* subtle closed idle wiggle (lightweight) */
.folder:not(.open) .folder-top{
  animation: nudge 2.8s ease-in-out infinite;
}
@keyframes nudge{
  0%,100%{ transform: translateY(0); }
  50%{ transform: translateY(-2px); }
}

.hint{
  margin-top: 12px;
  color: var(--muted);
  font-weight: 700;
}

/* banner */
.banner img{
  height: 280px;
  width:auto;
  max-width:min(520px, 94vw);
  border-radius: 26px;
  border: 1px solid rgba(255,255,255,.75);
  box-shadow: var(--shadowSoft);
  display:block;
  margin: 0 auto 14px;
}

/* heading */
#question-heading{
  margin: 12px 0 18px;
  font-weight: 900;
  font-size: clamp(30px, 3.6vw, 54px);
  letter-spacing: -0.9px;
  line-height: 1.08;
  padding: 0 10px;
}

.grad{
  background: linear-gradient(135deg, var(--pink), var(--pink2));
  -webkit-background-clip:text;
  background-clip:text;
  color: transparent;
}

/* buttons (NO overlap ever) */
.buttons{
  display:flex;
  justify-content:center;
  align-items:center;
  gap: 18px;
  flex-wrap: wrap;
  margin: 14px auto 0;
  max-width: 760px;
}

#yes-button,#no-button{
  border:none;
  cursor:pointer;
  border-radius: 999px;
  font-weight: 900;
  font-size: 19px;
  padding: 18px 56px;
  min-width: 210px;
  max-width: 100%;
  position:relative;
  overflow:hidden;

  transition:
    transform .22s cubic-bezier(.2,.9,.2,1),
    box-shadow .2s ease,
    filter .2s ease;
}

/* shimmer */
#yes-button::before,#no-button::before{
  content:"";
  position:absolute;
  inset:-60% -20%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,.45), transparent);
  transform: rotate(18deg) translateX(-140%);
  transition: transform .75s ease;
}
#yes-button:hover::before,#no-button:hover::before{
  transform: rotate(18deg) translateX(140%);
}

#yes-button{
  color:#fff;
  background: linear-gradient(135deg, var(--pink), var(--pink2));
  box-shadow: 0 22px 46px rgba(255,47,151,.34), inset 0 0 0 1px rgba(255,255,255,.20);
}
#yes-button:hover{ transform: translateY(-6px) scale(1.04); }
#yes-button:active{ transform: translateY(-1px) scale(.99); }

#no-button{
  color:#fff;
  background: linear-gradient(135deg, var(--red), var(--red2));
  box-shadow: 0 22px 46px rgba(255,90,110,.25), inset 0 0 0 1px rgba(255,255,255,.18);
}
#no-button:hover{ transform: translateY(-6px) scale(1.03); }
#no-button:active{ transform: translateY(-1px) scale(.99); }

/* yes smooth scaling (JS updates --yesScale) */
#yes-button{
  transform: scale(var(--yesScale, 1));
  transform-origin: center;
}

/* success message */
.message{
  display:none;
  margin-top: 18px;
  padding: 18px 18px;
  border-radius: 22px;
  border: 1px solid rgba(255, 208, 226, 0.95);
  background: rgba(255,255,255,0.90);
  box-shadow: 0 14px 30px rgba(0,0,0,0.10);
}
#success-message{
  margin:0;
  font-weight: 900;
  font-size: clamp(18px, 2.1vw, 30px);
}
.pop{ animation: popMsg .45s ease-out; }
@keyframes popMsg{
  from{ transform: translateY(10px) scale(.98); opacity:0; }
  to{ transform: translateY(0) scale(1); opacity:1; }
}

/* pretty language pill */
.lang{
  margin-top: 18px;
  display:flex;
  justify-content:center;
  align-items:center;
  gap: 12px;
  flex-wrap: wrap;
}
.lang-label{
  font-weight: 800;
  color: var(--muted);
}

.lang-pill{
  position:relative;
  display:flex;
  align-items:center;
  border-radius: 999px;
  padding: 6px;
  background: rgba(255,255,255,.65);
  border: 1px solid rgba(255, 208, 226, 0.85);
  box-shadow: 0 12px 24px rgba(0,0,0,0.10);
}

.lang-btn{
  position:relative;
  z-index:2;
  border:none;
  background: transparent;
  font-family: inherit;
  font-weight: 900;
  font-size: 14px;
  padding: 10px 16px;
  border-radius: 999px;
  cursor:pointer;
  color: rgba(20,20,20,.70);
  transition: color .2s ease, transform .2s ease;
}
.lang-btn:hover{ transform: translateY(-1px); }
.lang-btn.is-active{ color: rgba(20,20,20,.92); }

.lang-slider{
  position:absolute;
  z-index:1;
  top: 6px;
  bottom: 6px;
  left: 6px;
  width: calc(50% - 6px);
  border-radius: 999px;
  background: linear-gradient(135deg, rgba(255,47,151,.30), rgba(255,139,212,.30));
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.35);
  transition: transform .28s cubic-bezier(.2,.9,.2,1);
}
.lang-pill.is-ar .lang-slider{
  transform: translateX(100%);
}

/* particles */
.p-heart,.p-spark,.p-bow{
  position:absolute;
  will-change: transform, opacity;
  pointer-events:none;
}

.p-heart{
  width: 14px;
  height: 14px;
  transform: rotate(45deg);
  border-radius: 4px;
  background: rgba(255, 47, 151, 0.55);
}
.p-heart::before,.p-heart::after{
  content:"";
  position:absolute;
  width: 14px;
  height: 14px;
  border-radius: 50%;
  background: inherit;
}
.p-heart::before{ left:-7px; top:0; }
.p-heart::after{ top:-7px; left:0; }

.p-spark{
  width: 7px;
  height: 7px;
  border-radius: 999px;
  background: rgba(255,255,255,.95);
  box-shadow: 0 0 14px rgba(255,255,255,.75);
}

.p-bow{
  width: 16px;
  height: 10px;
  border-radius: 8px;
  background: rgba(255, 47, 151, 0.35);
  box-shadow: 0 10px 26px rgba(255,47,151,.18);
}
.p-bow::before,.p-bow::after{
  content:"";
  position:absolute;
  top:0;
  width: 10px;
  height: 10px;
  border-radius: 8px;
  background: inherit;
}
.p-bow::before{ left:-8px; transform: rotate(-18deg); }
.p-bow::after{ right:-8px; transform: rotate(18deg); }

.pulse{
  position:fixed;
  inset:0;
  z-index: 9999;
  pointer-events:none;
  background: radial-gradient(circle at 50% 40%, rgba(255,255,255,.80), rgba(255,47,151,.16), transparent 65%);
  animation: pulse 1s ease-out forwards;
}
@keyframes pulse{
  0%{ opacity:0; transform: scale(1); }
  18%{ opacity:1; }
  100%{ opacity:0; transform: scale(1.04); }
}

/* mobile */
@media (max-width: 520px){
  .folder-top{
    left: 12px; right: 12px;
    height: 86px;
  }
  .badge-text{ font-size: 16px; }
  .folder-stamp{ width: 68px; height: 68px; }
  .stamp-heart{ width: 30px; height: 30px; }
  .stamp-heart::before,.stamp-heart::after{ width: 30px; height: 30px; }
  .stamp-heart::before{ left:-15px; }
  .stamp-heart::after{ top:-15px; }

  .banner img{ height: 220px; }
  #yes-button,#no-button{ width:100%; min-width: unset; }
  .folder-pocket{ padding: 118px 12px 14px; border-radius: 30px; }
  .folder-lid{ height: 140px; border-radius: 30px; }
}
